<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>WifiDog: ping_thread.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>ping_thread.c File Reference</h1>
<p>Periodically checks in with the central auth server so the auth server knows the gateway is still up. Note that this is NOT how the gateway detects that the central server is still up.  
<a href="#_details">More...</a></p>

<p><a href="ping__thread_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ping__thread_8c.html#a2d355ce676ac949c810c9379cbba5ba9">ping</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ping__thread_8c.html#a3b019c5b71e02b8f475285a22222b296">thread_ping</a> (void *arg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Periodically checks on the auth server to see if it's alive.  <a href="#a3b019c5b71e02b8f475285a22222b296"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4f230f538f3836ddb684160315d7d554"></a><!-- doxytag: member="ping_thread.c::update" ref="a4f230f538f3836ddb684160315d7d554" args="(void)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>update</b> (void)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af0eea6ebdbba8400df1fe94af7991211"></a><!-- doxytag: member="ping_thread.c::started_time" ref="af0eea6ebdbba8400df1fe94af7991211" args="" -->
time_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>started_time</b></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Periodically checks in with the central auth server so the auth server knows the gateway is still up. Note that this is NOT how the gateway detects that the central server is still up. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Copyright (C) 2004 Alexandre Carmel-Veilleux &lt;<a href="mailto:acv@miniguru.ca">acv@miniguru.ca</a>&gt; </dd></dl>

<p>Definition in file <a class="el" href="ping__thread_8c_source.html">ping_thread.c</a>.</p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a2d355ce676ac949c810c9379cbba5ba9"></a><!-- doxytag: member="ping_thread.c::ping" ref="a2d355ce676ac949c810c9379cbba5ba9" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ping </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>We don't have to use FD_ISSET() because there was only one fd. </p>
</p>

<p>Definition at line <a class="el" href="ping__thread_8c_source.html#l00097">97</a> of file <a class="el" href="ping__thread_8c_source.html">ping_thread.c</a>.</p>

<p>References <a class="el" href="conf_8h_source.html#l00076">_auth_serv_t::authserv_hostname</a>, <a class="el" href="conf_8h_source.html#l00077">_auth_serv_t::authserv_path</a>, <a class="el" href="conf_8h_source.html#l00081">_auth_serv_t::authserv_ping_script_path_fragment</a>, <a class="el" href="conf_8c_source.html#l00152">config_get_config()</a>, <a class="el" href="centralserver_8c_source.html#l00185">connect_auth_server()</a>, <a class="el" href="debug_8h_source.html#l00033">debug</a>, <a class="el" href="conf_8c_source.html#l00866">get_auth_server()</a>, and <a class="el" href="common_8h_source.html#l00031">MAX_BUF</a>.</p>

<p>Referenced by <a class="el" href="ping__thread_8c_source.html#l00064">thread_ping()</a>.</p>

</div>
</div>
<a class="anchor" id="a3b019c5b71e02b8f475285a22222b296"></a><!-- doxytag: member="ping_thread.c::thread_ping" ref="a3b019c5b71e02b8f475285a22222b296" args="(void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thread_ping </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Periodically checks on the auth server to see if it's alive. </p>
<p>Launches a thread that periodically checks in with the wifidog auth server to perform heartbeat function. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>arg</em>&nbsp;</td><td>NULL </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000005">Todo:</a></b></dt><dd>This thread loops infinitely, need a watchdog to verify that it is still running? </dd></dl>

<p>Definition at line <a class="el" href="ping__thread_8c_source.html#l00064">64</a> of file <a class="el" href="ping__thread_8c_source.html">ping_thread.c</a>.</p>

<p>References <a class="el" href="conf_8h_source.html#l00149">s_config::checkinterval</a>, <a class="el" href="conf_8c_source.html#l00152">config_get_config()</a>, <a class="el" href="debug_8h_source.html#l00033">debug</a>, and <a class="el" href="ping__thread_8c_source.html#l00097">ping()</a>.</p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 10 Nov 2013 for WifiDog by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
